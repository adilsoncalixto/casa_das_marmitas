\chapter{Exibir Cliente - UC013} \label{uc013}

\section{Breve descrição}

Após a pesquisa ou o cadastro de um cliente, o sistema carregará um formulário com os dados do mesmo.

\section{Atores}

\begin{enumerate}
	\item Funcionário da empresa, Casa das Marmitas.
\end{enumerate}

\section{Pré-condições}

\begin{enumerate}
	\item O funcionário deve estar logado no sistema.
	\item O funcionário deve ter permissão em seu login para visualizar os dados do cliente.
\end{enumerate}

\section{Fluxo de eventos}

\subsection{Fluxo básico}

\begin{enumerate}[label=P\arabic*]
	\item O sistema exibe as informações do cliente conforme à \ref{uc013_ed:1}. \label{uc013_p:1}
	\item O sistema exibe a opção \textbf{Alterar} habilitada.\label{uc013_p:2} \ref{uc013_a:1} 
	\item O sistema exibe a opção \textbf{Excluir} habilitada.\label{uc013_p:3} \ref{uc013_a:2}
	\item O sistema exibe a opção \textbf{Registrar Pedido} habilitada.\label{uc013_p:4} \ref{uc013_a:3}
	\item O caso de uso é encerrado.
\end{enumerate}

\subsection{Fluxos alternativos}

\begin{enumerate}[label=A\arabic*]
	\item Alternativa ao passo \ref{uc013_p:2} - O funcionário não tem permissão de alterar os dados do cliente \label{uc013_a:1}
	\begin{enumerate}[label*=.\arabic*]
		\item O sistema exibe a opção \textbf{Alterar} desabilitada.
	\end{enumerate}

	\item Alternativa ao passo \ref{uc013_p:3} - O funcionário não tem permissão de excluir o cliente \label{uc013_a:2}
	\begin{enumerate}[label*=.\arabic*]
		\item O sistema exibe a opção \textbf{Excluir} desabilitada.
	\end{enumerate}

	\item Alternativa ao passo \ref{uc013_p:4} - O funcionário não tem permissão de registrar o pedido do cliente \label{uc013_a:3}
	\begin{enumerate}[label*=.\arabic*]
		\item O sistema exibe a opção \textbf{Registrar Pedido} desabilitada.
	\end{enumerate}
	
	\item Alterar cliente
	\begin{enumerate}[label*=.\arabic*]
		\item O funcionário aciona a opção \textbf{Alterar}, caso essa funcionalidade esteja habilitada.
		\item O sistema executa o caso de uso \nameref{uc001}.
		\item O caso de uso é encerrado.
	\end{enumerate}

	\item Excluir cliente
	\begin{enumerate}[label*=.\arabic*]
		\item O funcionário aciona a opção \textbf{Excluir}, caso essa funcionalidade esteja habilitada.
		\item O sistema remove os dados do cliente. \label{uc013_a:5:2}\ref{uc013_e:1}
		\item O sistema volta à tela anterior.
		\item O caso de uso é encerrado.
	\end{enumerate}

	\item Registrar pedido do cliente
	\begin{enumerate}[label*=.\arabic*]
		\item O funcionário aciona a opção \textbf{Registrar Pedido}, caso essa funcionalidade esteja habilitada.
		\item O sistema executa o caso de uso \nameref{uc007}.
		\item O caso de uso é encerrado.
	\end{enumerate}
		
	\item Desistência
	\begin{enumerate}[label*=.\arabic*]
		\item O funcionário aciona a opção \textbf{Voltar}.
		\item O sistema volta à tela anterior.
		\item O caso de uso é encerrado.		
	\end{enumerate}
\end{enumerate}

\subsection{Exceções}

\begin{enumerate}[label=E\arabic*]
	\item Cliente tem pedido registrado \label{uc013_e:1}
	\begin{enumerate}[label*=.\arabic*]
		\item[] No passo \ref{uc013_a:5:2}, o funcionário tentou remover o cliente, mas isso não foi possível, por que esse tinha pelo menos um pedido cadastrado.
		\item O sistema exibe a mensagem \textbf{O cliente tem pedido registrado}.
		\item O sistema retorna ao passo \ref{uc013_p:1}.
	\end{enumerate}
\end{enumerate}

\section{Pós-condições}

\begin{enumerate}
	\item Os dados do cliente exibidos.
	\begin{enumerate}
		\item O sistema carregará os dados do cliente, numa tela, com todas as funcionalidades ativas.
	\end{enumerate}
\end{enumerate}

\section{Estrutura de dados}

\begin{enumerate}[label=ED\arabic*]
	\item Os dados do cliente deverão esta de acordo com a tabela \ref{uc013_tb_rn1}. \label{uc013_ed:1}
	\begin{table}[htb]
		\ABNTEXfontereduzida
		\caption[Dados do cliente]{Dados do cliente.}
		\label{uc013_tb_rn1}
		\begin{tabular}{|p{4.0cm}|p{3.0cm}|p{7.25cm}|}
			\hline
			\textbf{Campo}      & \textbf{Tipo} & \textbf{Descrição}                                      \\ \hline
			Cód. do cliente     & Número        & Código do cliente.                                      \\ \hline
			Data cadastro       & dd/mm/aaaa    & Data de cadastro do cliente no sistema.                 \\ \hline
			Nome                & Texto         & Nome do cliente.                                        \\ \hline
			Data de nascimento  & dd/mm/aaaa    & Data de nascimento do cliente.                          \\ \hline
			Telefone            & Número        & Número de telefone do cliente.                          \\ \hline
			Logradouro          & Texto         & Logradouro (rua, avenida, beco, ...) do cliente.        \\ \hline
			CEP                 & Número        & CEP da residência do cliente.                           \\ \hline
			Bairro              & Texto         & Bairro onde reside o cliente.                           \\ \hline
			Cidade              & Texto         & Cidade onde reside o cliente.                           \\ \hline
			Número              & Texo          & Número da residência do cliente.                        \\ \hline
			Complemento         & Texto         & Informação relevante em relação ao endereço do cliente. \\ \hline
			Ponto de referência & Texto         & Ponto de referência próximo à residencia do cliente.    \\ \hline
		\end{tabular}
	\end{table}
\end{enumerate}